<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Level Up: The Life of a Plastic Bag | B1U5 Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');
        
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #ffffff 50%, #fff7ed 100%);
            min-height: 100vh;
        }

        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #e2e8f0;
            border-radius: 10px;
        }

        .tab-active-vocab { background-color: #f97316; color: white; border-color: #fb923c; }
        .tab-active-grammar { background-color: #4f46e5; color: white; border-color: #818cf8; }
        .tab-active-quiz { background-color: #ec4899; color: white; border-color: #f472b6; }
        
        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .option-correct { border-color: #22c55e !important; background-color: #f0fdf4 !important; color: #15803d !important; }
        .option-wrong { border-color: #ef4444 !important; background-color: #fef2f2 !important; color: #b91c1c !important; }
    </style>
</head>
<body class="p-4 md:p-8">

    <!-- Header -->
    <header class="max-w-6xl mx-auto mb-8 flex flex-col md:flex-row md:items-center justify-between gap-6">
        <div class="fade-in">
            <div class="flex items-center gap-3 mb-2">
                <div class="bg-orange-500 p-2 rounded-xl shadow-lg rotate-3 text-white">
                    <i class="fas fa-shopping-bag fa-2x"></i>
                </div>
                <h1 class="text-3xl md:text-4xl font-black bg-gradient-to-r from-indigo-600 via-purple-600 to-orange-500 bg-clip-text text-transparent">
                    Level Up: The Life of a Plastic Bag
                </h1>
            </div>
            <p class="text-slate-500 font-medium flex items-center gap-2">
                <i class="fas fa-bullseye text-orange-400"></i> B1 Reading & Vocabulary Dashboard ‚Äì Unit 5
            </p>
        </div>
        
        <div class="flex items-center gap-4 bg-white p-4 rounded-[2rem] shadow-xl border-2 border-orange-100">
            <div class="relative">
                <div class="w-14 h-14 bg-gradient-to-tr from-orange-400 to-pink-500 rounded-full flex items-center justify-center text-white shadow-lg border-2 border-white">
                    <i class="fas fa-user-tie fa-2xl"></i>
                </div>
                <div class="absolute -bottom-1 -right-1 bg-green-400 w-4 h-4 rounded-full border-2 border-white"></div>
            </div>
            <div>
                <p class="text-[10px] text-slate-400 uppercase font-black tracking-widest leading-none mb-1">Coach Janelle</p>
                <p class="font-black text-indigo-900 text-lg">Online Now ‚ú®</p>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="max-w-6xl mx-auto mb-10 flex flex-wrap justify-center gap-4">
        <button onclick="switchTab('vocab')" id="btn-vocab" class="tab-btn flex items-center gap-3 py-4 px-8 rounded-full border-2 font-black transition-all duration-300 shadow-sm bg-white text-slate-500 border-slate-100 tab-active-vocab">
            <i class="fas fa-brain"></i> B1 Lexicon
        </button>
        <button onclick="switchTab('grammar')" id="btn-grammar" class="tab-btn flex items-center gap-3 py-4 px-8 rounded-full border-2 font-black transition-all duration-300 shadow-sm bg-white text-slate-500 border-slate-100">
            <i class="fas fa-pen-nib"></i> Master Patterns
        </button>
        <button onclick="switchTab('quiz')" id="btn-quiz" class="tab-btn flex items-center gap-3 py-4 px-8 rounded-full border-2 font-black transition-all duration-300 shadow-sm bg-white text-slate-500 border-slate-100">
            <i class="fas fa-trophy"></i> Ultimate Challenge
        </button>
    </nav>

    <!-- Content Sections -->
    <main class="max-w-6xl mx-auto">
        
        <!-- VOCABULARY SECTION -->
        <section id="section-vocab" class="content-section">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
                <div class="lg:col-span-8 flex flex-col items-center">
                    <div id="vocab-card" class="w-full bg-white rounded-[3rem] shadow-2xl border-b-[12px] border-orange-400 p-10 md:p-16 text-center relative overflow-hidden transition-all duration-500">
                        <div id="vocab-number" class="absolute top-8 right-12 text-orange-100 font-black text-8xl select-none opacity-40">1</div>
                        <div class="relative z-10">
                            <div id="vocab-pos" class="inline-block px-4 py-1 rounded-full bg-orange-100 text-orange-600 font-black text-xs uppercase tracking-widest mb-3">adj.</div>
                            <h2 id="vocab-word" class="text-4xl md:text-5xl font-black text-slate-800 tracking-tighter mb-1">plastic</h2>
                            <h3 id="vocab-def" class="text-xl font-bold text-slate-500 mb-2">Â°ëËÜ†ÔºàË£ΩÔºâÁöÑ / Â°ëËÜ†</h3>
                            <p id="vocab-family" class="text-sm md:text-base text-slate-500 mb-6 italic"></p>
                            
                            <div id="vocab-example-container" class="hidden animate-in fade-in duration-500 max-w-2xl mx-auto text-left">
                                <div class="p-6 bg-white rounded-3xl border-2 border-orange-200 shadow-inner">
                                    <p id="vocab-example" class="text-lg text-slate-700 font-medium mb-4 italic"></p>
                                    <p id="vocab-ch" class="text-slate-400 font-medium"></p>
                                </div>
                            </div>
                            <button id="btn-reveal" onclick="revealExample()" class="mt-4 bg-orange-500 text-white px-8 py-4 rounded-2xl font-black hover:bg-orange-600 transition-all shadow-lg">REVEAL CONTEXT</button>
                        </div>
                    </div>
                    <div class="flex items-center gap-6 mt-10">
                        <button onclick="prevVocab()" class="w-16 h-16 rounded-3xl bg-white shadow-xl flex items-center justify-center text-slate-400 hover:text-orange-500 transition-all border border-slate-50"><i class="fas fa-chevron-left fa-2x"></i></button>
                        <div id="vocab-counter" class="bg-white px-8 py-4 rounded-3xl font-black text-2xl text-slate-700 shadow-lg">1 / 16</div>
                        <button onclick="nextVocab()" class="w-16 h-16 rounded-3xl bg-orange-500 shadow-xl flex items-center justify-center text-white hover:bg-orange-600 transition-all"><i class="fas fa-chevron-right fa-2x"></i></button>
                    </div>
                </div>
                <div class="lg:col-span-4 bg-white p-6 rounded-[2.5rem] shadow-xl border border-slate-100">
                    <h3 class="text-2xl font-black text-slate-800 mb-6 flex items-center gap-2"><i class="fas fa-heart text-pink-500"></i> Phrases</h3>
                    <div id="idioms-list" class="space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar">
                        <!-- Idioms injected here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- GRAMMAR SECTION (same B2 explanation as before) -->
        <section id="section-grammar" class="content-section hidden">
            <div class="space-y-10 fade-in">
                <div class="bg-gradient-to-br from-indigo-900 to-purple-900 rounded-[4rem] p-10 md:p-16 text-white shadow-2xl">
                    <h2 class="text-3xl md:text-4xl font-black mb-6">make / have / let + O + VR</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                        <div class="bg-white/10 p-8 rounded-[2rem] border border-white/20">
                            <h4 class="font-black text-orange-300 flex items-center gap-2 mb-4">
                                <i class="fas fa-lightbulb"></i> Pattern & meaning
                            </h4>
                            <p class="mb-4 text-sm md:text-base">
                                We use <span class="text-orange-300 font-bold">make / have / let + object + base verb</span>
                                to show that one person or thing causes another person or thing to do something.
                                This structure is very common when we describe <span class="text-orange-300 font-bold">influence, control, or permission</span>.
                            </p>
                            <ul class="space-y-2 text-sm">
                                <li>‚Ä¢ When it was getting dark, they packed everything up and <span class="text-orange-300 font-bold">let me stay</span> there alone.</li>
                                <li>‚Ä¢ When we eat seafood, the poisonous substances from the plastic end up inside us and <span class="text-orange-300 font-bold">make us feel</span> sick.</li>
                                <li>‚Ä¢ They produce us to make their lives better, but then they misuse us and <span class="text-orange-300 font-bold">make everyone‚Äôs life</span> worse.</li>
                            </ul>
                        </div>
                        <div class="space-y-4">
                            <h4 class="font-black text-2xl">Common problems</h4>
                            <div class="p-5 bg-indigo-700/50 rounded-2xl border border-indigo-500/30 text-sm">
                                <p><span class="text-red-300 font-black">‚úó</span> The movie made me to think about plastic waste.</p>
                                <p><span class="text-green-300 font-black">‚úì</span> The movie <span class="underline">made me think</span> about plastic waste.</p>
                            </div>
                            <div class="p-5 bg-indigo-700/50 rounded-2xl border border-indigo-500/30 text-sm">
                                <p><span class="text-red-300 font-black">‚úó</span> My parents let me to go to the beach on my own.</p>
                                <p><span class="text-green-300 font-black">‚úì</span> My parents <span class="underline">let me go</span> to the beach on my own.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-[4rem] p-10 md:p-16 shadow-2xl border-2 border-indigo-50">
                    <h3 class="text-3xl font-black text-slate-800 mb-8 flex items-center gap-4 text-orange-500">
                        <i class="fas fa-bolt"></i> Talking about plastic and the environment
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="bg-orange-50 p-8 rounded-3xl border-2 border-orange-100">
                            <h5 class="font-black text-orange-600 mb-4 text-xl underline">over time / end up</h5>
                            <p class="text-sm mb-3">
                                In this unit, we often describe gradual change and final results in the environment.
                                At B2 level, combine <span class="font-bold">over time</span> and <span class="font-bold">end up</span> with more precise vocabulary.
                            </p>
                            <ul class="space-y-2 text-sm text-slate-700">
                                <li>‚Ä¢ Because of all the littering, a lot of plastic products <span class="font-bold">end up</span> in the ocean.</li>
                                <li>‚Ä¢ Over time, these plastic bags <span class="font-bold">break down</span> into smaller pieces that can harm sea animals.</li>
                                <li>‚Ä¢ When we eat seafood, poisonous substances from plastic can <span class="font-bold">end up inside us</span> and make us feel sick.</li>
                            </ul>
                        </div>
                        <div class="p-8 bg-indigo-50 rounded-3xl border-2 border-indigo-100">
                            <p class="font-black text-indigo-900 mb-2 italic">Coach Janelle‚Äôs B2 tip:</p>
                            <p class="text-indigo-800 text-sm leading-relaxed">
                                When you talk about the environment, try to move beyond simple facts.
                                Link actions and results: for example, <span class="font-bold">‚ÄúIf plastic bags are not recycled properly, they may end up drifting in ocean currents and harming sea animals.‚Äù</span>
                                This kind of cause‚Äìeffect sentence is typical of B2 writing and speaking.
                            </p>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- QUIZ SECTION -->
        <section id="section-quiz" class="content-section hidden">
            <div id="quiz-container" class="max-w-4xl mx-auto py-10">
                <!-- Quiz dynamically injected here -->
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="max-w-6xl mx-auto mt-20 p-10 bg-white rounded-[4rem] shadow-xl flex flex-col md:flex-row gap-8 items-center border border-slate-50">
        <div class="w-24 h-24 bg-gradient-to-tr from-pink-500 to-orange-400 rounded-full flex-shrink-0 flex items-center justify-center text-white text-4xl shadow-xl">
            <i class="fas fa-user-graduate"></i>
        </div>
        <div>
            <h4 class="text-2xl font-black text-indigo-900 mb-2">Coach Janelle's Tip</h4>
            <p id="footer-tip" class="text-indigo-800 italic">
                "At B2 level, don‚Äôt just remember isolated words. Track the word family and the environmental story behind each term."
            </p>
        </div>
    </footer>

    <script>
        // --- DATA: B1 U5 The Life of a Plastic Bag ---

        const vocabulary = [
            {
                word: "plastic",
                pos: "adj./n.",
                def: "Â°ëËÜ†ÔºàË£ΩÔºâÁöÑÔºõÂ°ëËÜ†",
                family: "",
                example: "You should never put hot drinking water into plastic bottles or cups.",
                ch: "‰Ω†ÁµïÂ∞ç‰∏çÂèØ‰ª•Â∞áÁÜ±ÈñãÊ∞¥ÊîæÂà∞Â°ëËÜ†Áì∂ÊàñÂ°ëËÜ†ÊùØË£°„ÄÇ"
            },
            {
                word: "convenience",
                pos: "n.",
                def: "‰æøÂà©",
                family: "",
                example: "Many shops post their business hours on their Facebook pages for the convenience of the public.",
                ch: "ÁÇ∫‰∫ÜÂ§ßÁúæÊñπ‰æøÔºåË®±Â§öÂïÜÂ∫óÊúÉÂ∞áÂÆÉÂÄëÁöÑÁáüÊ•≠ÊôÇÈñìÂºµË≤ºÂú®ÂÆÉÂÄëÁöÑËáâÊõ∏È†ÅÈù¢‰∏ä„ÄÇ"
            },
            {
                word: "eagerly",
                pos: "adv.",
                def: "Ê∏¥ÊúõÂú∞",
                family: "eager (adj.)",
                example: "Rick is eagerly waiting for his boss to post the summer work schedule because he wants to plan his vacation.",
                ch: "RickÊ∏¥ÊúõÂú∞Á≠âÂæÖ‰ªñÁöÑËÄÅÈóÜÂºµË≤ºÂ§èÂ≠£ÁöÑÂ∑•‰ΩúÊôÇÈñìË°®ÔºåÂõ†ÁÇ∫‰ªñÊÉ≥Ë¶ÅË®àÁï´‰ªñÁöÑÂÅáÊúü„ÄÇ"
            },
            {
                word: "surround",
                pos: "v.",
                def: "ÂúçÁπû",
                family: "surroundings (n. pl.)",
                example: "The house is surrounded by tall trees, so nobody can see it from the road.",
                ch: "ÈÇ£Ê£üÊàøÂ≠êË¢´È´òËÅ≥ÁöÑÊ®πÊâÄÂúçÁπûÔºåÊâÄ‰ª•Ê≤íÊúâ‰∫∫ËÉΩÂæûÈ¶¨Ë∑Ø‰∏äÁúãÂà∞ÂÆÉ„ÄÇ"
            },
            {
                word: "drift",
                pos: "v.",
                def: "ÊºÇÊµÅ",
                family: "",
                example: "After the captain fell asleep, the ship passed the harbor and then drifted toward the middle of the sea.",
                ch: "Âú®ËàπÈï∑Áù°Ëëó‰πãÂæåÔºåÈÄôËâòËàπË∂äÈÅéÊ∏ØÂè£Êé•ËëóÊºÇÂêëÊµ∑‰∏≠Â§Æ„ÄÇ"
            },
            {
                word: "envy",
                pos: "v./n.",
                def: "Áæ®ÊÖï",
                family: "",
                example: "Christopher really envies his best friend, Patty, because she has been to so many countries.",
                ch: "ChristopherÁúüÁöÑÂæàÁæ®ÊÖï‰ªñÊúÄÂ•ΩÁöÑÊúãÂèãPattyÔºåÂõ†ÁÇ∫Â•πÂ∑≤Á∂ìÂéªÈÅéÈùûÂ∏∏Â§öÂúãÂÆ∂„ÄÇ"
            },
            {
                word: "crowded",
                pos: "adj.",
                def: "Êì†ÊªøÁöÑÔºõÊìÅÊì†ÁöÑ",
                family: "crowd (n.)",
                example: "The Smith family is moving into a new house tomorrow, so their living room is crowded with boxes.",
                ch: "Smith‰∏ÄÂÆ∂‰∫∫Â∞áÂú®ÊòéÂ§©Êê¨ÂÖ•Êñ∞ÂÆ∂ÔºåÊâÄ‰ª•‰ªñÂÄëÁöÑÂÆ¢Âª≥Êì†Êªø‰∫ÜÁÆ±Â≠ê„ÄÇ"
            },
            {
                word: "obviously",
                pos: "adv.",
                def: "È°ØÁÑ∂",
                family: "obvious (adj.)",
                example: "The little girl is wearing yellow shoes, a yellow dress, and has painted her nails yellow. Obviously, she likes this color.",
                ch: "ÈÄôÂÄãÂ∞èÂ•≥Â≠©Ê≠£Á©øËëóÈªÉËâ≤ÁöÑÈûãÂ≠êË∑üÈªÉËâ≤ÁöÑÊ¥ãË£ùÔºåËÄå‰∏îÈÇÑÊääÂ•πÁöÑÊåáÁî≤Â°óÊàêÈªÉËâ≤„ÄÇÈ°ØÁÑ∂Â•πÂñúÊ≠°ÈÄôÂÄãÈ°èËâ≤„ÄÇ"
            },
            {
                word: "product",
                pos: "n.",
                def: "Áî¢ÂìÅ",
                family: "produce (v.), production (n.)",
                example: "This shop sells a variety of health and food products for babies.",
                ch: "ÈÄôÂÆ∂ÂïÜÂ∫óË≤©ÂîÆÂêÑÂºèÂêÑÊ®£ÁöÑÂ¨∞ÂÖíÂ∞àÁî®ÁöÑÂÅ•Â∫∑Áî¢ÂìÅÂíåÈ£üÂìÅ„ÄÇ"
            },
            {
                word: "consume",
                pos: "v.",
                def: "ÂêÉÂñùÔºõÊ∂àËÄó",
                family: "consumer (n.)",
                example: "Driving after you consume too much beer or wine can lead to a car crash.",
                ch: "È£≤Áî®Â§™Â§öÂï§ÈÖíÊàñËë°ËêÑÈÖíÂæåÈñãËªäÂèØËÉΩÊúÉÈÄ†ÊàêËªäÁ¶ç„ÄÇ"
            },
            {
                word: "poisonous",
                pos: "adj.",
                def: "ÊúâÊØíÁöÑ",
                family: "poison (v./n.)",
                example: "Chocolate is delicious for most people, but did you know that it can be poisonous to dogs?",
                ch: "Â∑ßÂÖãÂäõÂ∞çÂ§ßÈÉ®ÂàÜÁöÑ‰∫∫‰æÜË™™ÂæàÁæéÂë≥Ôºå‰ΩÜÊòØ‰Ω†Áü•ÈÅìÂ∞çÁãó‰æÜË™™ÂÆÉÂèØËÉΩÊòØÊúâÊØíÁöÑÂóéÔºü"
            },
            {
                word: "substance",
                pos: "n.",
                def: "Áâ©Ë≥™",
                family: "",
                example: "The police found a chemical substance at the murder scene and are doing tests on it right now.",
                ch: "Ë≠¶ÊñπÂú®Ë¨ÄÊÆ∫ÁèæÂ†¥ÁôºÁèæ‰∏ÄÁ®ÆÂåñÂ≠∏Áâ©Ë≥™ÔºåÁèæÂú®Ê≠£Âú®Â∞çÂÆÉÈÄ≤Ë°åÊ™¢È©ó„ÄÇ"
            },
            {
                word: "recycling",
                pos: "n.",
                def: "ÂõûÊî∂",
                family: "recycle (v.)",
                example: "After the party, Nick took all the empty bottles out for recycling.",
                ch: "Ê¥æÂ∞çÈÅéÂæåÔºåNickÊääÊâÄÊúâÁ©∫Áì∂Â≠êÊãøÂà∞Â§ñÈù¢ÂõûÊî∂„ÄÇ"
            },
            {
                word: "harm",
                pos: "n./v.",
                def: "ÂÇ∑ÂÆ≥",
                family: "harmful (adj.)",
                example: "The cleaners were careful not to do any harm to the objects in the museum as they cleaned around them.",
                ch: "Âú®Ê∏ÖÊΩîÁöÑÊôÇÂÄôÔºåÈÇ£‰∫õÊ∏ÖÊΩîÂ∑•ÂæàÂ∞èÂøÉÈÅøÂÖçÊêçÂÇ∑ÂçöÁâ©È§®Ë£°ÁöÑÁâ©ÂìÅ„ÄÇ"
            },
            {
                word: "environment",
                pos: "n.",
                def: "Ëá™ÁÑ∂Áí∞Â¢ÉÔºõÁí∞Â¢É",
                family: "environmental (adj.)",
                example: "It is every person‚Äôs responsibility to save the earth‚Äôs natural environment for our sons and daughters.",
                ch: "ÁÇ∫ÊàëÂÄëÊú™‰æÜÁöÑÂ≠êÂ•≥ÊãØÊïëÂú∞ÁêÉÁöÑËá™ÁÑ∂Áí∞Â¢ÉÊòØÊØè‰∏ÄÂÄã‰∫∫ÁöÑË≤¨‰ªª„ÄÇ"
            },
            {
                word: "properly",
                pos: "adv.",
                def: "ÈÅ©Áï∂Âú∞",
                family: "proper (adj.)",
                example: "Marc didn‚Äôt complete the assignment properly, so the teacher asked him to do it again.",
                ch: "MarcÊ≤íÊúâÂ•ΩÂ•ΩÂú∞ÂÆåÊàê‰ΩúÊ•≠ÔºåÊâÄ‰ª•ËÄÅÂ∏´Ë¶ÅÊ±Ç‰ªñÈáçÂÅö„ÄÇ"
            }
        ];

        const idioms = [
            { phrase: "come along", def: "Âà∞ÈÅîÔºõÂá∫Áèæ", example: "Jane said she‚Äôs not ready to join us yet, but she will come along later." },
            { phrase: "pack ... up", def: "Êî∂ÊãæÔºõÊâìÂåÖ", example: "After Mr. Huang got fired, he sadly packed all of his things up and left." },
            { phrase: "on one‚Äôs own", def: "Áç®Ëá™ÔºõÈù†Ëá™Â∑±", example: "Lily loves to go fishing on her own, so she can listen to the sound of the sea." },
            { phrase: "for a while", def: "‰∏ÄÈô£Â≠ê", example: "The lion hid behind a tree for a while, waiting for a deer to walk by." },
            { phrase: "end up", def: "ÊúÄÂæåÁµêÊûúÊòØ", example: "The family couldn‚Äôt agree on a restaurant to go to, so they ended up staying home and eating pizza." }
        ];

        // B2-style quiz: longer stems, more abstract links, explicit reasons
       const quizQuestions = [
    {
        type: "mc",
        q: "Which sentence best explains a possible consequence of using plastic bags carelessly?",
        options: [
            "Plastic bags are bad for fish because they are everywhere in the sea.",
            "If plastic bags are not recycled properly, they can drift in ocean currents and eventually be eaten by sea animals.",
            "Plastic bags are in the sea and the animals don‚Äôt like them.",
            "The sea is crowded with plastic bags and that is not good."
        ],
        correct: 1,
        explanation: "The answer gives a clear cause‚Äìeffect chain (poor recycling ‚Üí drifting ‚Üí being eaten), using precise verbs and adverbs."
    },
    {
        type: "mc",
        q: "Choose the sentence that most effectively describes the impact of a documentary about plastic.",
        options: [
            "The documentary made me to think more carefully about plastic.",
            "The documentary made me think more carefully about how my plastic use affects the environment.",
            "The documentary made that I think more carefully about plastic.",
            "The documentary made thinking more carefully about plastic bags."
        ],
        correct: 1,
        explanation: "\"Made me think\" is the correct causative form, and the sentence links personal behaviour to environmental impact."
    },
    {
        type: "error",
        q: "Which part of the sentence should be changed? \"They let me to stay on the beach on my own, even though it was getting dark.\"",
        options: ["let me", "to stay", "on my own", "even though"],
        correct: 1,
        fix: "stay",
        explanation: "After \"let\", we use the base form: let + object + V ‚Üí \"let me stay\"."
    },
    {
        type: "mc",
        q: "Which sentence uses \"end up\" in a clear and natural way?",
        options: [
            "Plastic bags end up convenient for consumers.",
            "If people keep throwing plastic bags away, a lot of them will end up in landfills instead of being recycled.",
            "Plastic bags end up are in the ocean.",
            "Plastic bags end up to be harmful."
        ],
        correct: 1,
        explanation: "The answer combines a continuing action with a final result, which is how \"end up\" is typically used."
    },
    {
        type: "type",
        q: "Complete the sentence: \"Many ______ are starting to choose products that create less plastic waste.\"",
        answer: "consumers",
        hint: "c _ _ _ _ _ _ s",
        explanation: "The context describes people who buy products, so the plural noun \"consumers\" fits best."
    },
    {
        type: "mc",
        q: "Fill in the blank: \"The city built new facilities so that plastic could be collected and processed in a more ______ way.\"",
        options: ["obviously", "poisonous", "crowded", "environmental"],
        correct: 3,
        explanation: "\"Environmental\" describes actions or policies that protect the natural world, matching the idea of processing plastic more responsibly."
    },
    {
        type: "error",
        q: "Which word form is incorrect in this sentence? \"Although plastic products are extremely convenience for shoppers, they can cause serious harm to the environment over time.\"",
        options: ["plastic products", "extremely", "convenience", "over time"],
        correct: 2,
        fix: "convenient",
        explanation: "\"Extremely\" is followed by an adjective, so it should be \"extremely convenient\"."
    },
    {
        type: "mc",
        q: "Which sentence would be the most suitable in an oral presentation about plastic pollution?",
        options: [
            "Obviously, plastic bags are bad, and we should stop using them.",
            "Obviously, plastic bags are so convenient that nobody wants to change their habits.",
            "Obviously, if we continue to rely on plastic for convenience, we will cause more damage to the environment than we expect.",
            "Obviously, plastic bags are bad things in the environment and in the globe."
        ],
        correct: 2,
        explanation: "The answer contrasts convenience with long‚Äëterm damage and uses a complex clause, which works well in a formal presentation."
    },
    {
        type: "type",
        q: "Complete the sentence: \"The company claims that its new products are less ______ to sea life because they decompose more quickly.\"",
        answer: "harmful",
        hint: "h _ _ _ _ _ l",
        explanation: "\"Harmful\" is the adjective used with \"to sea life\" to describe negative effects."
    },
    {
        type: "mc",
        q: "Which option best completes the sentence? \"By showing images of polluted beaches, the campaign ______ many people reconsider their everyday use of plastic bags.\"",
        options: ["let", "made", "had", "envied"],
        correct: 1,
        explanation: "\"Made\" plus object plus base verb (\"made many people reconsider\") shows that the campaign caused a change in behaviour."
    }
];

        // --- STATE ---
        let currentVocabIdx = 0;
        let currentQuizIdx = 0;
        let score = 0;
        let canAnswer = true;

        // --- VOCABULARY LOGIC ---
        function updateVocabUI() {
            const item = vocabulary[currentVocabIdx];
            document.getElementById('vocab-number').innerText = currentVocabIdx + 1;
            document.getElementById('vocab-pos').innerText = item.pos;
            document.getElementById('vocab-word').innerText = item.word;
            document.getElementById('vocab-def').innerText = item.def;
            document.getElementById('vocab-example').innerText = `"${item.example}"`;
            document.getElementById('vocab-ch').innerText = item.ch;
            document.getElementById('vocab-counter').innerText = `${currentVocabIdx + 1} / ${vocabulary.length}`;
            document.getElementById('vocab-family').innerText = item.family ? `Word family: ${item.family}` : "";
            
            document.getElementById('vocab-example-container').classList.add('hidden');
            document.getElementById('btn-reveal').classList.remove('hidden');
            document.getElementById('vocab-card').classList.remove('bg-orange-50');
        }

        function nextVocab() {
            currentVocabIdx = (currentVocabIdx + 1) % vocabulary.length;
            updateVocabUI();
        }

        function prevVocab() {
            currentVocabIdx = (currentVocabIdx - 1 + vocabulary.length) % vocabulary.length;
            updateVocabUI();
        }

        function revealExample() {
            document.getElementById('vocab-example-container').classList.remove('hidden');
            document.getElementById('btn-reveal').classList.add('hidden');
            document.getElementById('vocab-card').classList.add('bg-orange-50');
        }

        function loadIdioms() {
            const list = document.getElementById('idioms-list');
            list.innerHTML = idioms.map(item => `
                <div class="p-4 bg-slate-50 rounded-2xl hover:bg-indigo-50 transition-all">
                    <p class="font-black text-indigo-600">${item.phrase}</p>
                    <p class="text-xs text-slate-400 mb-1">${item.def}</p>
                    <p class="text-xs text-slate-500 italic">"${item.example}"</p>
                </div>
            `).join('');
        }

        // --- TAB LOGIC ---
        function switchTab(tab) {
            document.querySelectorAll('.content-section').forEach(s => s.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(b => {
                b.className = "tab-btn flex items-center gap-3 py-4 px-8 rounded-full border-2 font-black transition-all duration-300 shadow-sm bg-white text-slate-500 border-slate-100";
            });

            document.getElementById(`section-${tab}`).classList.remove('hidden');
            document.getElementById(`btn-${tab}`).classList.add(`tab-active-${tab}`);

            if (tab === 'quiz') startQuiz();
        }

        // --- QUIZ LOGIC ---
        function startQuiz() {
            currentQuizIdx = 0;
            score = 0;
            renderQuestion();
        }

        function renderQuestion() {
            canAnswer = true;
            const container = document.getElementById('quiz-container');
            const q = quizQuestions[currentQuizIdx];

            let content = `
                <div class="bg-white rounded-[4rem] shadow-2xl border-2 border-pink-100 min-h-[500px] flex flex-col overflow-hidden fade-in">
                    <div class="bg-slate-50 p-6 flex justify-between border-b">
                        <div class="flex items-center gap-3">
                            <div class="bg-pink-500 text-white w-10 h-10 rounded-xl flex items-center justify-center font-black">${currentQuizIdx + 1}</div>
                            <p class="text-sm font-bold text-slate-700">Question ${currentQuizIdx + 1} of ${quizQuestions.length}</p>
                        </div>
                        <p class="text-lg font-black text-pink-600">Score: ${score}</p>
                    </div>
                    <div class="p-10 md:p-16 flex-grow flex flex-col justify-center">
                        <h2 class="text-2xl md:text-3xl font-black text-slate-800 text-center mb-12">${q.q}</h2>
            `;

            if (q.type === 'mc' || q.type === 'error') {
                content += `<div class="grid grid-cols-1 md:grid-cols-2 gap-4">`;
                q.options.forEach((opt, idx) => {
                    content += `<button id="opt-${idx}" onclick="handleAnswer(${idx})" class="quiz-opt p-6 rounded-3xl font-black text-left border-2 bg-white border-slate-100 text-slate-600 hover:border-pink-300 transition-all">${opt}</button>`;
                });
                content += `</div>`;
            } else {
                content += `
                    <div class="space-y-6 max-w-xl mx-auto w-full">
                        <div class="text-center text-pink-300 font-black tracking-widest text-2xl uppercase mb-2">${q.hint}</div>
                        <input type="text" id="type-input" class="w-full text-center text-3xl font-black p-6 bg-slate-50 rounded-3xl border-4 border-dashed border-pink-100 focus:outline-none focus:border-pink-500" placeholder="...">
                        <button id="type-submit-btn" onclick="handleTypeAnswer()" class="w-full bg-indigo-900 text-white py-6 rounded-3xl font-black text-xl hover:bg-indigo-800 transition-all">SUBMIT</button>
                    </div>
                `;
            }

            content += `
                    <div id="feedback" class="mt-8 hidden p-6 rounded-3xl animate-in fade-in zoom-in duration-300">
                        <p id="feedback-text" class="text-2xl font-black mb-2"></p>
                        <div id="explanation-box" class="text-sm md:text-base font-medium text-slate-600 border-t border-slate-200 pt-4 mt-2"></div>
                    </div>
                </div></div>
            `;
            container.innerHTML = content;
        }

        function handleAnswer(idx) {
            if (!canAnswer) return;
            canAnswer = false;

            const q = quizQuestions[currentQuizIdx];
            const isCorrect = idx === q.correct;
            
            const btn = document.getElementById(`opt-${idx}`);
            if (isCorrect) {
                btn.classList.add('option-correct');
            } else {
                btn.classList.add('option-wrong');
                document.getElementById(`opt-${q.correct}`).classList.add('option-correct');
            }

            showFeedback(isCorrect);
        }

        function handleTypeAnswer() {
            if (!canAnswer) return;
            canAnswer = false;

            const input = document.getElementById('type-input');
            const val = input.value.trim().toLowerCase();
            const q = quizQuestions[currentQuizIdx];
            const isCorrect = val === q.answer.toLowerCase();
            
            if (isCorrect) {
                input.classList.add('text-green-600', 'border-green-500');
            } else {
                input.classList.add('text-red-600', 'border-red-500');
                if (val) {
                    input.value = `${val} ‚ûî ${q.answer}`;
                } else {
                    input.value = q.answer;
                }
            }

            showFeedback(isCorrect);
        }

        function showFeedback(isCorrect) {
            if (isCorrect) score++;
            
            const q = quizQuestions[currentQuizIdx];
            const fb = document.getElementById('feedback');
            const fbText = document.getElementById('feedback-text');
            const fbExp = document.getElementById('explanation-box');

            fb.classList.remove('hidden');
            fb.classList.add(isCorrect ? 'bg-green-50' : 'bg-red-50');
            fbText.innerText = isCorrect ? "üéØ Great job!" : "üí° Let‚Äôs learn from this";
            fbText.className = `text-2xl font-black mb-2 ${isCorrect ? 'text-green-600' : 'text-red-600'}`;
            
            let explanationHTML = `<strong>Explanation:</strong> ${q.explanation || ''}`;
            if (q.fix) explanationHTML = `<strong>Correction:</strong> <span class="text-red-600 underline">${q.fix}</span><br>${explanationHTML}`;
            
            fbExp.innerHTML = explanationHTML;

            setTimeout(() => {
                currentQuizIdx++;
                if (currentQuizIdx < quizQuestions.length) renderQuestion();
                else renderResults();
            }, 4000);
        }

        function getEncouragement(s) {
            if (s === quizQuestions.length) return { title: "Unit Master! üèÜ", msg: "You can now discuss plastic and the environment with clear B2-level language.", color: "text-yellow-600", icon: "rocket" };
            if (s >= 7) return { title: "Excellent Work! ‚ú®", msg: "Your control of vocabulary and causative structures is strong. Try using them in your own essays.", color: "text-green-600", icon: "sparkles" };
            if (s >= 4) return { title: "Nice Progress! üí™", msg: "Review the Lexicon and Master Patterns tabs, then try the quiz again to consolidate.", color: "text-orange-600", icon: "smile" };
            return { title: "Keep Practicing! üå±", msg: "Focus on the word families and key patterns; with more exposure, these questions will feel easier.", color: "text-blue-600", icon: "heart" };
        }

        function renderResults() {
            const enc = getEncouragement(score);
            const container = document.getElementById('quiz-container');
            container.innerHTML = `
                <div class="bg-white rounded-[4rem] p-10 md:p-16 text-center shadow-2xl border-4 border-indigo-50 fade-in">
                    <div class="flex justify-center mb-6">
                        <i class="fas fa-${enc.icon} fa-5x text-yellow-500 drop-shadow-lg"></i>
                    </div>
                    <h2 class="text-5xl font-black mb-4 ${enc.color}">${enc.title}</h2>
                    <p class="text-2xl font-bold text-slate-700 mb-6">You scored <span class="text-indigo-600">${score}</span> / ${quizQuestions.length}</p>
                    <div class="bg-slate-50 p-8 rounded-3xl border-2 border-slate-100 mb-10 max-w-2xl mx-auto italic text-slate-600 text-lg">
                        "${enc.msg}"
                    </div>
                    <button onclick="startQuiz()" class="bg-slate-900 text-white px-12 py-6 rounded-3xl font-black hover:scale-105 transition-all shadow-xl flex items-center gap-3 mx-auto">
                        <i class="fas fa-redo"></i> RETRY CHALLENGE
                    </button>
                </div>
            `;
        }

        // --- INIT ---
        window.onload = () => {
            updateVocabUI();
            loadIdioms();
        };
    </script>
</body>
</html>
